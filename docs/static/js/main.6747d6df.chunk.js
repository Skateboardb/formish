(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAABBNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXBNTTpEb2N1bWVudElEPnhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDY8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSJSZXNvdXJjZSI+CiAgICAgICAgICAgIDxzdFJlZjppbnN0YW5jZUlEPnhtcC5paWQ6RTUxNzhBMkE5OUEwMTFFMjlBMTVCQzEwNDZBODkwNEQ8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6RTUxNzhBMkI5OUEwMTFFMjlBMTVCQzEwNDZBODkwNEQ8L3N0UmVmOmRvY3VtZW50SUQ+CiAgICAgICAgIDwveG1wTU06RGVyaXZlZEZyb20+CiAgICAgICAgIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDY8L3htcE1NOkluc3RhbmNlSUQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqBOjEgAAABhUlEQVQ4EYWTvUpDQRCF700UTbSJhQo+QPCnU4QgITY+SPABtPUB7IRgFS2ij6ClXUBrsbQTo42IpRjB6PqdyWxYAuLAYc7MnJ2d3bs3y7AQQkFeBq+DM/AAvh3iytWHqmQNSVuML4EOSC02SHPSlHyz4cYkyuA6Vf3DpS3HaTR23LkL3wW34APcO8SVU60LZB1rAGkocmv7aDrOIph0iMex2/BojQkWNEejZNmX8888z/tJ/oUVucdRo7Cp8R+9XR9fVRZfBPkYil6rkpdW9ijxwGgIT/gpF8XdFJpRs5w0QFrZQJ8huGYGb+f0+C8nzawX7Q30PJjDN5zbEZxrSu1uR8BvgwqQ9VQ81SzYO3gFm8Oa3YXdQxLXqD+DaCdqsO5RC3/u/A5fG1t4Q+7H63qhsg3TQI4tDGELfwAuwVLSYNnrcvELtGI9Nrmi+AZ2wCoogHjzFbhq0S4gVtMRhj8EbeBHUYFfiDvA5z2v0Q+T/OhnSpusINoH04lQT3sPrCU5W/MLjZxHEeHXmq0AAAAASUVORK5CYII="},114:function(e,t,n){e.exports=n(347)},119:function(e,t,n){},346:function(e,t,n){},347:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(106),c=n.n(l),o=(n(119),n(2)),i=n(13),u=[{name:"PN",type:"Text"},{name:"DATE",type:"Date"},{name:"NAME",type:"Text"},{name:"DOB",type:"Date"},{name:"GENDER",type:"Choices",choices:"Male,Female"},{name:"MARRIED",type:"Yes/No"},{name:"DOCTOR",type:"Text"},{name:"DIAGNOSIS",type:"List"},{name:"CONDITION",type:"Text"},{name:"MEDICATIONS",type:"List"}],s="\n# Report\n### {{dddd}}, {{Do}} {{MMM}}, {{YYYY}}\n\nReport for {{Mr}} {{NAME}}. {{He}} has been diagnosed with **{{DIAGNOSIS}}**.\n{{His}} condition is {{CONDITION}}.\n\n{{He}} is {{AGE}} old as per our records.\n\n{{MEDICATIONS:1.}}\n\n&nbsp;".concat("  ","\n................................","  ","\n{{DOCTOR}}\n"),d={},m={loadConfig:function(){try{var e=JSON.parse(localStorage.getItem("configuration"));if(null===e||!e.structure||!e.markdown)throw new Error("Invalid data");return e}catch(t){return console.log("Error",t),{structure:u,markdown:s}}},saveConfig:function(e){localStorage.setItem("configuration",JSON.stringify(e))},loadRecords:function(){try{var e=JSON.parse(localStorage.getItem("records"));if(!Array.isArray(e))throw new Error("Invalid data");return e}catch(t){return[]}},saveRecords:function(e){if(!Array.isArray(e))throw new Error("Records are meant to be an array");localStorage.setItem("records",JSON.stringify(e))},getRecord:function(e){try{var t=JSON.parse(localStorage.getItem("rec-".concat(e)));if(!t)throw new Error("Invalid data");return t}catch(n){return{}}},saveRecord:function(e){var t=e;if(e.id){localStorage.setItem("rec-".concat(e.id),JSON.stringify(e));var n=d[e.id];return n&&n.forEach(function(t){return t(e)}),[e.id]}var a=m.loadRecords(),r=Date.now();return t=Object.assign({},e,{id:r}),console.log("Saving record",r,t),localStorage.setItem("rec-".concat(r),JSON.stringify(t)),a.unshift(r),m.saveRecords(a),a},listen:function(e,t){var n=d[e],a=n||[];return a!==n&&(d[e]=a),a.push(t),function(){var n=a.indexOf(t);n>=0&&(a.splice(n,1),0===a.length&&delete d[e])}}};function f(){return m.loadConfig()}var E=m,g=n(49),b=n.n(g),h=n(107),p=n(3);function v(e){var t=e.onChange,n=Object(p.a)(e,["onChange"]),l=Object(a.useRef)(),c=Object(a.useCallback)(function(){l.current.click()},[]),o=Object(a.useCallback)(function(e){if(e.target.files.length>0){var n=new FileReader;n.onload=function(e){t(n.result)},n.readAsText(e.target.files[0])}},[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{ref:l,onChange:o,type:"file",style:{display:"none"}}),r.a.createElement("button",Object.assign({},n,{onClick:c})))}function C(e){var t=e.onPrepare,n=Object(p.a)(e,["onPrepare"]),l=Object(a.useState)(0),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(a.useState)(null),d=Object(o.a)(s,2),m=d[0],f=d[1],E=Object(a.useCallback)(Object(h.a)(b.a.mark(function e(){var n,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(1),e.next=3,t();case 3:n=e.sent,a=new Blob([n.data],{type:n.type}),f({blob:a,name:n.name});case 6:case"end":return e.stop()}},e)})),[t]),g=Object(a.useCallback)(function(){u(0),f(null)},[]);return m?r.a.createElement("button",null,r.a.createElement("a",{href:URL.createObjectURL(m.blob),onClick:g,download:m.name},"Download ".concat(m.name))):0===i?r.a.createElement("button",Object.assign({},n,{onClick:E})):1===i?r.a.createElement("button",Object.assign({},n,{disabled:!0})):void 0}var A=n(12),w=n(27);function y(e){return Object(a.useCallback)(function(t){return e(t.target.name,t.target.value)},[e])}function O(e){var t=e.onChange,n=Object(p.a)(e,["onChange"]),a=y(t);return r.a.createElement("input",Object.assign({type:"text",onChange:a},n))}function j(e){var t=e.onChange,n=e.choices,a=Object(p.a)(e,["onChange","choices"]),l=y(t),c="boolean"!==typeof a.value?a.value:a.value?"Yes":"No";return r.a.createElement("div",{className:"Radio"},n.map(function(e){return r.a.createElement("label",{key:e},r.a.createElement("input",Object.assign({},a,{type:"radio",value:e,checked:c===e,onChange:l})),r.a.createElement("span",null,e))}))}var N=["Yes","No"];function I(e){var t=e.onChange,n=e.choices,a=Object(p.a)(e,["onChange","choices"]),l=y(t);return r.a.createElement("select",Object.assign({onChange:l},a),n.map(function(e){return r.a.createElement("option",{key:e},e)}))}function R(e){var t=e.onChange,n=e.choices,a=Object(p.a)(e,["onChange","choices"]),l=n.split(",").map(function(e){return e.trim()}).filter(function(e){return e.length>0});return 0===l.length?r.a.createElement("span",null,"No choice available"):l.length<4?r.a.createElement(j,Object.assign({onChange:t,choices:l},a)):r.a.createElement(I,Object.assign({onChange:t,choices:l},a))}R.defaultProps={choices:""};var D=[{id:"Text",C:O},{id:"Date",C:function(e){var t=e.onChange,n=Object(p.a)(e,["onChange"]),a=y(t);return r.a.createElement("input",Object.assign({type:"date",onChange:a},n))}},{id:"List",C:function(e){var t=e.onChange,n=Object(p.a)(e,["onChange"]),a=y(t);return r.a.createElement("textarea",Object.assign({onChange:a},n))}},{id:"Yes/No",C:function(e){var t=e.onChange,n=Object(p.a)(e,["onChange"]),l=Object(a.useCallback)(function(e,n){t(e,"Yes"===n)},[t]);return r.a.createElement(j,Object.assign({},n,{onChange:l,choices:N}))}},{id:"Choices",C:R}];function S(e){var t=e.type,n=e.name,a=e.value,l=e.choices,c=e.onChange,o=D.find(function(e){return e.id===t}).C;return r.a.createElement("div",{className:"InputRow"},r.a.createElement("label",null,r.a.createElement("span",null,n),r.a.createElement(o,{name:n,choices:l,onChange:c,value:a})))}function M(e){var t=e.record,n=e.onChange,l=e.onSave,c=e.modified,o=e.addRecord,i=f(),u=Object(a.useCallback)(function(e,t){n(function(n){return Object(w.a)({},n,Object(A.a)({},e,t))})},[n]),s=t.id?"Update":"Create";return r.a.createElement("div",{className:"RecordForm"},i.structure.map(function(e){var n=e.type,a=e.name,l=e.choices,c=t[a];return r.a.createElement(S,{key:a,value:void 0===c?"":c,type:n,name:a,choices:l,onChange:u})}),r.a.createElement("div",{className:"InputRow"},r.a.createElement("div",{style:{textAlign:"right"}},t.id&&r.a.createElement("button",{onClick:o,disabled:c},"New Record"),r.a.createElement("button",{onClick:l,disabled:!c},s))))}var k=n(112);function Y(e,t){return t[e]}var T=r.a.memo(function(e){var t=e.data,n=e.index,l=e.style,c=e.setSelected,i=e.selected,u=t[n],s=function(e){var t=Object(a.useState)(m.getRecord(e)),n=Object(o.a)(t,2),r=n[0],l=n[1];return Object(a.useEffect)(function(){return m.listen(e,l)},[e]),r}(u),d=Object(a.useCallback)(function(){c(u)},[u,c]);return r.a.createElement("div",{className:"GridRow".concat(i===u?" selected":""),style:l,onClick:d},r.a.createElement("div",{style:{width:120}},s.PN),r.a.createElement("div",{style:{width:120}},s.DATE),r.a.createElement("div",{style:{flex:1}},s.NAME))});function H(e){var t=e.records,n=e.setSelected,l=e.selected,c=Object(a.useState)(""),i=Object(o.a)(c,2),u=i[0],s=i[1],d=Object(a.useCallback)(function(e){s(e.target.value)},[]),m=Object(a.useMemo)(function(){var e=u.trim().toLowerCase();return e?t.filter(function(t){var n=E.getRecord(t).NAME,a=(E.getRecord(t).PN||"").trim().toLowerCase();return!!n&&(a===e||n.toLowerCase().indexOf(e)>=0)}):t},[t,u]),f=Object(a.useCallback)(function(){var e="formish-records-".concat((new Date).toISOString(),".csv"),t=E.loadConfig().structure.map(function(e){return e.name}),n=t.map(function(e){return JSON.stringify(e)}).join(",")+"\r\n";m.forEach(function(e){var a=E.getRecord(e);n+=t.map(function(e){var t=a[e];return void 0===t||null===t?"":JSON.stringify(t)}).join(",")+"\r\n"});var a=document.createElement("a");a.setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(n)),a.setAttribute("download",e),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)},[m]);var g=null;return g=0===m.length?r.a.createElement("div",{style:{display:"flex",height:300,alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"NoRecords"},"No Records Found")):r.a.createElement(k.a,{height:240,itemCount:m.length,itemData:m,itemKey:Y,itemSize:30},function(e){return r.a.createElement(T,Object.assign({},e,{setSelected:n,selected:l}))}),r.a.createElement("div",{className:"Records"},r.a.createElement("div",{className:"Header"},r.a.createElement("b",null,"Available Records"),r.a.createElement("input",{value:u,onChange:d,placeholder:"Search"}),"Records ".concat(m.length,"/").concat(t.length),r.a.createElement("div",{style:{flex:1,textAlign:"right"}},r.a.createElement("button",{onClick:f},"Download CSV"))),g)}var x,F,B,G=n(108),J=n.n(G),Z=n(113),L=n(109),U=n(110),P=n.n(U),Q=function(e,t){return function(n){return"Male"===n.GENDER?e:t}},W=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DATE",a=new Date(t[n]||Date.now());return Object(i.format)(a,e)}},X={AGE:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"DOB",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DATE",a=new Date(e[t]||"2010-01-01"),r=new Date(e[n]||Date.now());return Object(i.distanceInWordsStrict)(a,r)},Mr:(x="Mr.",F="Mrs.",B="Ms.",function(e){return"Male"===e.GENDER?x:e.MARRIED?F:B}),He:Q("He","She"),he:Q("he","she"),HE:Q("HE","SHE"),Him:Q("Him","Her"),him:Q("him","her"),HIM:Q("HIM","HER"),His:Q("His","Her"),his:Q("his","her"),HIS:Q("HIS","HER"),DATE:W("YYYY-MM-DD"),TIME:W("HH:mm:ss"),YY:W("YY"),YYYY:W("YYYY"),A:W("A"),a:W("a"),aa:W("aa"),M:W("M"),MM:W("MM"),MMM:W("MMM"),MMMM:W("MMMM"),D:W("D"),Do:W("Do"),DD:W("DD"),d:W("d"),dd:W("dd"),ddd:W("ddd"),dddd:W("dddd"),i:W("i"),H:W("H"),HH:W("HH"),h:W("h"),hh:W("hh"),mm:W("mm"),ss:W("ss")};function V(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return Object(a.useMemo)(function(){var a=t.reduce(function(e,t){return e.structure[t.name]=!0,e.data[t.name]=t.sample,e},{structure:{},data:{}});return function(e,t,n){return e.replace(/{{([^}]*)}}/g,function(e,a){var r=a.split(":"),l=Object(L.a)(r),c=l[0],o=l.slice(1),i=X[c];if(i)return i.apply(void 0,[t].concat(Object(Z.a)(o)));if(n[c]){if("#"===o[0]){var u=o[1],s=P()(t[c]);return u?s.format(u):s.value()}return"*"===o[0]||/[0-9]+[.]/.test(o[0])?(t[c]||"").split("\n").map(function(e){return e.trim()}).filter(function(e){return e.length>0}).map(function(e){return"".concat(o[0]," ").concat(e)}).join("\n"):function(e){return!0===e?"Yes":!1===e?"No":e}(t[c])}return e})}(e,n||a.data,a.structure)},[e,t,n])}var z=function(){return window.print()};function q(e){var t=e.source,n=e.structure,a=e.record,l=e.printable,c=V(t,n,a);return r.a.createElement("div",{className:"Preview"},l&&r.a.createElement("button",{style:{position:"absolute",right:20,top:20},onClick:z},"Print"),r.a.createElement("div",{className:"Paper"},r.a.createElement(J.a,{source:c,escapeHtml:!1})))}var K=n(50),_=n(111),$=n.n(_),ee=r.a.createContext(),te=0;function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(a.useContext)(ee),r=function(){var e=Object(a.useRef)(null);return null===e.current&&(te+=1,e.current=te),e.current}();Object(a.useEffect)(function(){return n(r,e)},t)}function ae(){for(var e=E.loadConfig(),t=E.loadRecords(),n={},a=0;a<t.length;a+=1){var r=E.getRecord(t[a]);n[r.id]=r}var l=Object(i.format)(new Date,"YYYY-MM-DD");return{name:"Formish-Backup-".concat(l,".json"),data:JSON.stringify({config:e,records:t,data:n}),type:"application/json"}}function re(e){return function(t){try{var n=JSON.parse(t);if(!n.config)throw new Error("No configuration found");if(!Array.isArray(n.config.structure))throw new Error("No valid config structure found");if(!n.config.markdown)throw new Error("No configuration template found");if(!n.records||!Array.isArray(n.records))throw new Error("No data records found");if(!n.data||"object"!==typeof n.data)throw new Error("No data content found");var a=new Set(E.loadRecords()),r=0;n.records.forEach(function(e){var t=n.data[e];t&&t.id===e&&(a.has(e)||(r+=1,E.saveRecord(t),a.add(t.id)))}),window.alert("".concat(r," records appended"));var l=Array.from(a.keys()).sort();console.log(l),E.saveRecords(l),e(l)}catch(c){window.alert("Load failed: ".concat(c.message))}}}function le(e){return function(t){try{var n=JSON.parse(t);if(!n.config)throw new Error("No configuration found");if(!Array.isArray(n.config.structure))throw new Error("No valid config structure found");if(!n.config.markdown)throw new Error("No configuration template found");if(!n.records||!Array.isArray(n.records))throw new Error("No data records found");if(!n.data||"object"!==typeof n.data)throw new Error("No data content found");if(window.confirm("Are you sure you want to replace the existing data ? This action is irreversible.")){var a=n.records.filter(function(e){var t=n.data[e];return!(!t||t.id!==e)&&(E.saveRecord(t),!0)});E.saveRecords(a),E.saveConfig(n.config),e(a)}}catch(r){window.alert("Restoration failed: ".concat(r.message))}}}var ce=function(){var e=f(),t=Object(a.useMemo)(function(){return function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.structure.reduce(function(e,n){var a="";return a=void 0===n.sample||""===n.sample?t[n.name]:n.sample,e[n.name]=a,e},{});return n.DATE=Object(i.format)(new Date,"YYYY-MM-DD"),n.id=void 0,n.PN="",n.NAME="",n.DOB="",n}}(e)},[e]),n=Object(a.useState)(E.loadRecords),l=Object(o.a)(n,2),c=l[0],u=l[1],s=Object(a.useState)(t),d=Object(o.a)(s,2),m=d[0],g=d[1],b=Object(a.useState)(!1),h=Object(o.a)(b,2),p=h[0],A=h[1],w=Object(a.useCallback)(function(e){g(e),A(!0)},[]),y=Object(a.useCallback)(function(){g(function(e){return t(e)})},[t]),O=Object(a.useCallback)(function(e){p&&!window.confirm("Your changes are not saved. Ignore changes ?")||(g(E.getRecord(e)),A(!1))},[p]),j=Object(a.useCallback)(function(){var e=E.saveRecord(m);m.id||u(e),g(E.getRecord(e[0])),A(!1)},[m]);return ne(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{onPrepare:ae},"Backup"),r.a.createElement(v,{onChange:le(u)},"Restore"),r.a.createElement(v,{onChange:re(u)},"Load"))},[u]),r.a.createElement("div",{className:"Full"},r.a.createElement("div",{className:"Half"},r.a.createElement(M,{record:m,onSave:j,onChange:w,modified:p,addRecord:y})),r.a.createElement("div",{className:"Half"},r.a.createElement(H,{records:c,selected:m.id,setSelected:O}),r.a.createElement(q,{record:m,source:e.markdown,structure:e.structure,printable:m.id&&!p})))};function oe(e){var t=e.value,n=e.onChange,l=Object(a.useCallback)(function(e,t){n(function(n){return Object(w.a)({},n,Object(A.a)({},e,t))})},[n]),c=D.find(function(e){return e.id===t.type});return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(I,{name:"type",value:t.type,onChange:l,choices:D.map(function(e){return e.id})})),r.a.createElement("td",null,r.a.createElement(O,{name:"name",onChange:l,value:t.name})),r.a.createElement("td",null,"Choices"===t.type&&r.a.createElement(O,{name:"choices",onChange:l,value:t.choices})),r.a.createElement("td",null,c&&r.a.createElement(c.C,{name:"sample",onChange:l,value:t.sample,choices:t.choices})))}function ie(){return r.a.createElement("div",{className:"Help"},r.a.createElement("h2",null,"Template Formatting Help"),r.a.createElement("p",null,"The template uses ",r.a.createElement("a",{href:"https://www.markdownguide.org/cheat-sheet/"},"Mark Down"),"."),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"# Heading1")," For Top Level heading"),r.a.createElement("li",null,r.a.createElement("b",null,"## Heading 2")," Second level heading"),r.a.createElement("li",null,r.a.createElement("b",null,"### Heding 3"),"Third level heading"),r.a.createElement("li",null,r.a.createElement("b",null,"**Bold**")),r.a.createElement("li",null,r.a.createElement("b",null,"*Italic*")),r.a.createElement("li",null,r.a.createElement("b",null,"***Bold Italic***")),r.a.createElement("li",null,r.a.createElement("b",null,"---")," For a horizontal line"),r.a.createElement("li",null,r.a.createElement("b",null,"\xa0")," Followed by 2 spaces for forced blank line separation")),r.a.createElement("p",null,"You could use data entered via form by placing them within double curly brackets like ",r.a.createElement("b",null,"{{NAME}}"),". Use the name of the field (case-sensitive) like ",r.a.createElement("b",null,"PN"),", ",r.a.createElement("b",null,"DATE")," or any other custom ones that you have created."),r.a.createElement("h3",null,"Special Placeholders"),r.a.createElement("p",null,"Apart from fields, there are various other special placeholders that you could use.",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"His, He, Him"),": These placeholder works with GENDER field.",r.a.createElement("br",null),"Example: ",r.a.createElement("b",null,"{{He}}"," is in sound health")),r.a.createElement("li",null,r.a.createElement("b",null,"Mr"),": This place holder works with GENDER and MARRIED field."),r.a.createElement("li",null,r.a.createElement("b",null,"YYYY"),": Display 4 digit year 2018, 2019"),r.a.createElement("li",null,r.a.createElement("b",null,"YY"),": Display 2 digit year 18, 19"),r.a.createElement("li",null,r.a.createElement("b",null,"Do"),": Display date of month with suffix 1st, 2nd, ..."),r.a.createElement("li",null,r.a.createElement("b",null,"DD"),": Display 2 digit date of month 01, 02, ..."),r.a.createElement("li",null,r.a.createElement("b",null,"ddd"),": Display 3 character week day Sun, Mon, ..."),r.a.createElement("li",null,r.a.createElement("b",null,"dddd"),": Display full week day Sunday, Monday, ..."),r.a.createElement("li",null,r.a.createElement("b",null,"MM"),": Display 2 digit month 01, 02, ... 11, 12"),r.a.createElement("li",null,r.a.createElement("b",null,"MMM"),": Dislay 3 character month Jan, Feb, ..."),r.a.createElement("li",null,"Example: ",r.a.createElement("b",null,"{{Do}} {{MMM}}, {{YYYY}}")," becomes ",r.a.createElement("b",null,"1st Jan, 2019")),r.a.createElement("li",null,r.a.createElement("b",null,"AGE"),": This is a special place holder that uses DOB and DATE field to calculate age. Example: ",r.a.createElement("b",null,"{{AGE}}"," old")," becomes ",r.a.createElement("b",null,"99 years old"))),r.a.createElement("h3",null,"Using list values"),r.a.createElement("p",null,"Enter list data in multiple lines and use specical prefixes to display them in bullets or numbering"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"{{MEDICATIONS:*}}")," will display medications as bulleted list"),r.a.createElement("li",null,r.a.createElement("b",null,"{{MEDICATIONS:1.}}")," will display medications as numbered list")),r.a.createElement("h3",null,"Formatting numbers"),r.a.createElement("p",null,"You could format number values"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"{{PRICE:#:0.00}}")," will display number with 2 decimal places."),r.a.createElement("li",null,"Example: ",r.a.createElement("b",null,"{{PRICE:#:0,0}}")," will display number with comma separation"))))}function ue(e,t){return function(n){try{var a=JSON.parse(n);if(!a.markdown||"string"!==typeof a.markdown)throw new Error("No template content found");if(!a.structure||!Array.isArray(a.structure))throw new Error("No template definition found");window.confirm("Are you sure you want to replace the existing template with the new one ?")&&(E.saveConfig(a),e(a.structure),t(a.markdown))}catch(r){window.alert("Failed to import template: ".concat(r.message))}}}function se(e,t){return function(){return{name:"Formish-Template.json",data:JSON.stringify({structure:e,markdown:t}),type:"application/json"}}}var de=function(){var e=E.loadConfig(),t=Object(a.useState)(!1),n=Object(o.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(e.structure),u=Object(o.a)(i,2),s=u[0],d=u[1],m=Object(a.useState)(e.markdown),f=Object(o.a)(m,2),g=f[0],b=f[1],h=Object(a.useState)(!1),p=Object(o.a)(h,2),A=p[0],w=p[1],y=Object(a.useCallback)(function(){return c(function(e){return!e})},[]),O=Object(a.useCallback)(function(e){b(e.target.value),w(!0)},[]),j=Object(a.useCallback)(function(){E.saveConfig({markdown:g,structure:s}),w(!1)},[s,g]),N=Object(a.useCallback)(function(e){return function(t){d(function(n){return n.map(function(n,a){return a===e?t(n):n})}),w(!0)}},[]),I=Object(a.useCallback)(function(){d(function(e){return e.concat({type:"Text",name:"FIELD_".concat(e.length+1)})}),w(!0)},[]);return ne(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{onPrepare:se(s,g)},"Export Template"),r.a.createElement(v,{onChange:ue(d,b)},"Import Template"))}),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"Full"},r.a.createElement("div",{className:"Half Editor",style:{position:"relative"}},r.a.createElement("button",{style:{position:"absolute",right:10,top:10},onClick:y},l?"Close":"Help"),r.a.createElement("div",{className:"Full",style:{padding:"10px",backgroundColor:"#eee"}},l?r.a.createElement(ie,null):r.a.createElement("textarea",{style:{outline:0},value:g,onChange:O})),r.a.createElement("table",null,r.a.createElement("tbody",null,s.map(function(e,t){return r.a.createElement(oe,{key:t,value:e,onChange:N(t)})}),r.a.createElement("tr",{style:{backgroundColor:"black"}},r.a.createElement("td",null,r.a.createElement("button",{style:{fontSize:"14pt"},onClick:I},"Add")),r.a.createElement("td",{colSpan:"2"}),r.a.createElement("td",{align:"right"},A&&r.a.createElement("button",{style:{fontSize:"14pt"},onClick:j},"Save")))))),r.a.createElement("div",{className:"Half"},r.a.createElement(q,{source:g,structure:s,record:null}))))};n(346);var me=function(){var e=Object(a.useState)(!1),t=Object(o.a)(e,2),n=t[0],l=t[1];return ne(function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:function(){return l(!n)}},n?"Reports":"Design"))},[n]),n?r.a.createElement(de,null):r.a.createElement(ce,null)};c.a.render(r.a.createElement(function(e){var t=e.title,n=Object(p.a)(e,["title"]),l=Object(a.useState)([]),c=Object(o.a)(l,2),i=c[0],u=c[1],s=Object(a.useCallback)(function(e,t){return u(function(n){var a=n.slice();return a.push({seq:e,Group:t}),a.sort(function(e,t){return t.seq-e.seq}),a}),function(){u(function(t){return t.filter(function(t){return t.seq!==e})})}},[]);return r.a.createElement(ee.Provider,{value:s},i.length>0&&r.a.createElement("div",{className:"ToolBar"},r.a.createElement("div",{className:"Brand"},r.a.createElement("a",{href:K.repository.url,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:$.a,alt:"Github"})),r.a.createElement("h3",null,t),r.a.createElement("sub",null,"v",K.version)),i.map(function(e){var t=e.seq,n=e.Group;return r.a.createElement("div",{key:t,className:"ToolBarGroup"},r.a.createElement(n,null))})),r.a.createElement(r.a.Fragment,n))},{title:"Formish"},r.a.createElement(me,null)),document.getElementById("root"))},50:function(e){e.exports={name:"discharge-report",version:"0.1.3",private:!0,dependencies:{"date-fns":"^1.30.1",numeral:"^2.0.6",react:"^16.8.6","react-dom":"^16.8.6","react-markdown":"^4.0.8","react-scripts":"3.0.1","react-window":"^1.8.1"},homepage:".",repository:{type:"git",url:"https://github.com/syaau/formish.git"},scripts:{start:"react-scripts start",build:"react-scripts build && rimraf docs && mv build docs",test:"react-scripts test",eject:"react-scripts eject",deploy:"yarn version && yarn build && git add docs && git commit -m 'Release' && git push origin master"},eslintConfig:{extends:"react-app"},browserslist:{production:[">0.2%","not dead","not op_mini all"],development:["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}}},[[114,1,2]]]);
//# sourceMappingURL=main.6747d6df.chunk.js.map